<!-- Outer Container: Dark Gradient Background -->
<div class="min-h-[calc(100vh-80px)] bg-gradient-to-r from-gray-900 via-gray-800 to-gray-900 px-4 py-8">
  <div class="container mx-auto max-w-5xl">

    <!-- Page Header -->
    <h1 class="text-3xl font-bold text-white mb-8 tracking-tight pl-3 border-l-4 border-blue-500">
      Order History
    </h1>

    @if (orders().length === 0) {
    <!-- Empty State (Dark Mode) -->
    <div
      class="flex flex-col items-center justify-center py-24 px-4 bg-gray-800/30 rounded-3xl border-2 border-dashed border-gray-700/50 backdrop-blur-sm text-center">
      <div class="w-24 h-24 bg-gray-700/50 rounded-full flex items-center justify-center mb-6 shadow-inner">
        <mat-icon class="text-gray-500 !w-12 !h-12 !text-[48px]">history</mat-icon>
      </div>
      <h3 class="text-2xl font-bold text-gray-300 mb-2">No orders found</h3>
      <p class="text-gray-500 text-lg">You haven't placed any orders yet.</p>
    </div>
    }

    <!-- Orders Grid -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">

      @for (order of orders(); track order.id) {

      <mat-card
        class="p-0 !bg-gray-800/80 !backdrop-blur-md !text-white !rounded-2xl !border !border-gray-700 !shadow-xl hover:!border-blue-500/50 hover:!shadow-2xl hover:-translate-y-1 transition-all duration-300 relative overflow-hidden group">

        <!-- Decorative Top Glow -->
        <div
          class="absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-blue-500 via-indigo-500 to-purple-500 opacity-0 group-hover:opacity-100 transition-opacity duration-300">
        </div>

        <div class="p-6">
          <!-- Header: ID & Status -->
          <div class="flex justify-between items-start mb-4">
            <div>
              <h2 class="text-xl font-bold text-white flex items-center gap-2 m-0">
                <mat-icon class="text-blue-400 !w-5 !h-5 !text-[20px]">receipt_long</mat-icon>
                Order #{{ order.id }}
              </h2>
            </div>

            <!-- Status Badge (Logic Unchanged, Styles Updated via CSS) -->
            <span class="status-badge status-{{ order.status }}">
              {{ statusLabels[order.status] }}
            </span>
          </div>

          <mat-divider class="!bg-gray-700 !mb-4"></mat-divider>

          <!-- Order Details -->
          <div class="space-y-3">
            <div class="flex justify-between items-center">
              <span class="text-gray-400 text-sm">Total Amount</span>
              <span
                class="text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-indigo-400">
                {{ order.totalAmount | currency }}
              </span>
            </div>

            <div class="flex justify-between items-center">
              <span class="text-gray-400 text-sm">Date Placed</span>
              <span class="text-gray-200 font-medium">
                {{ order.createdOn | date:'mediumDate' }}
              </span>
            </div>

            <div class="flex justify-between items-center">
              <span class="text-gray-400 text-sm">Tracking Number</span>
              <span class="font-mono text-gray-300 bg-gray-900/50 px-2 py-1 rounded border border-gray-700 text-xs">
                {{ order.trackingNumber || 'Pending' }}
              </span>
            </div>
          </div>

          <!-- Action Footer -->
          <div class="mt-6 pt-4 border-t border-gray-700 flex justify-end">
            <button mat-stroked-button color="primary" (click)="openOrder(order.id)"
              class="!border-blue-500/30 !text-blue-400 hover:!bg-blue-500/10 !rounded-lg">
              View Details
            </button>
          </div>
        </div>
      </mat-card>

      }

    </div>

  </div>
</div>